# ECS Config Files
## Overview

Dynamically provision config file using environment variables either as SSM string values or secure string values.

## Usage

<!-- BEGINNING OF PRE-COMMIT-TERRAFORM DOCS HOOK -->
## Requirements

| Name | Version |
|------|---------|
| <a name="requirement_terraform"></a> [terraform](#requirement\_terraform) | ~> 1 |
| <a name="requirement_aws"></a> [aws](#requirement\_aws) | ~> 3 |
| <a name="requirement_random"></a> [random](#requirement\_random) | ~> 3.1 |

## Providers

| Name | Version |
|------|---------|
| <a name="provider_aws"></a> [aws](#provider\_aws) | 3.63.0 |
| <a name="provider_random"></a> [random](#provider\_random) | 3.1.0 |

## Modules

No modules.

## Resources

| Name | Type |
|------|------|
| [aws_iam_policy.secret_access](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/iam_policy) | resource |
| [aws_ssm_parameter.config_files](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/ssm_parameter) | resource |
| [random_uuid.iam_policy_uuid](https://registry.terraform.io/providers/hashicorp/random/latest/docs/resources/uuid) | resource |
| [aws_iam_policy_document.secret_access](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/iam_policy_document) | data source |

## Inputs

| Name | Description | Type | Default | Required |
|------|-------------|------|---------|:--------:|
| <a name="input_environment_variable_prefix"></a> [environment\_variable\_prefix](#input\_environment\_variable\_prefix) | Allows you to configure a unique prefix.  This can be used to identify the environment variables that need to be converted to files in the entry point script. | `string` | `"ECS_FILES"` | no |
| <a name="input_files"></a> [files](#input\_files) | List of files to be added as AWS SSM paramters (Strings or SecretStrings) | <pre>list(object({<br>    parameter_name = string<br>    path           = string<br>    filename       = string<br>    contents       = string<br>    sensitive      = bool<br>  }))</pre> | n/a | yes |

## Outputs

| Name | Description |
|------|-------------|
| <a name="output_files"></a> [files](#output\_files) | Contains a Map of SSM Parameter store Arns for the files that have been added to the module. The key is constructed from the file name and has any character that is not alpha numeric replaced with \_.  The key is also changed to upper case as it is intended for use as the name fo the environment variable in consuming terraform configurations. |
| <a name="output_iam_policy_arn"></a> [iam\_policy\_arn](#output\_iam\_policy\_arn) | Arn of the IAM Policy that allows access to the parameters |
<!-- END OF PRE-COMMIT-TERRAFORM DOCS HOOK -->

## Development

### Prerequisites

- [terraform](https://learn.hashicorp.com/terraform/getting-started/install#installing-terraform)
- [terraform-docs](https://github.com/segmentio/terraform-docs)
- [pre-commit](https://pre-commit.com/#install)

### Configurations

- Configure pre-commit hooks
```sh
pre-commit install
```
- Manually running hooks
```sh
pre-commit run -a
```
- Running specific hook
```sh
pre-commit run terraform_fmt
```

### Tests

TODO: Add tests framework terratest or kitchen
## Authors

This project is authored by below people

- <%= TODO: Authors (Authors File) %>

> This project was generated by [TODO: Template Project Name](TODO: Template Project GitHub URL)
